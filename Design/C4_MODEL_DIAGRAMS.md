# ğŸ›ï¸ C4 Model - ElectroShop E-Commerce System

## ğŸ“‹ Giá»›i Thiá»‡u C4 Model

C4 Model lÃ  phÆ°Æ¡ng phÃ¡p mÃ´ hÃ¬nh hÃ³a kiáº¿n trÃºc pháº§n má»m vá»›i 4 cáº¥p Ä‘á»™:
- **Level 1: System Context** - Bá»‘i cáº£nh há»‡ thá»‘ng
- **Level 2: Container** - CÃ¡c container trong há»‡ thá»‘ng
- **Level 3: Component** - CÃ¡c component trong container
- **Level 4: Code** - Chi tiáº¿t code (Class diagram)

---

## ğŸ”· Level 1: System Context Diagram

### SÆ¡ Ä‘á»“ bá»‘i cáº£nh há»‡ thá»‘ng - MÃ´ táº£ há»‡ thá»‘ng tÆ°Æ¡ng tÃ¡c vá»›i ngÆ°á»i dÃ¹ng vÃ  há»‡ thá»‘ng bÃªn ngoÃ i

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SYSTEM CONTEXT DIAGRAM                                  â”‚
â”‚                                   ElectroShop                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚                                              â”‚             â”‚
    â”‚   KhÃ¡ch    â”‚                                              â”‚   Admin     â”‚
    â”‚    HÃ ng    â”‚                                              â”‚  Quáº£n Trá»‹   â”‚
    â”‚  [Person]   â”‚                                              â”‚  [Person]   â”‚
    â”‚             â”‚                                              â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                                            â”‚
           â”‚ Xem sáº£n pháº©m                                              â”‚ Quáº£n lÃ½
           â”‚ Äáº·t hÃ ng                                                  â”‚ sáº£n pháº©m,
           â”‚ Thanh toÃ¡n                                                â”‚ Ä‘Æ¡n hÃ ng
           â”‚                                                            â”‚
           â–¼                                                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                                          â”‚
    â”‚                        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                     â”‚
    â”‚                        â•‘                           â•‘                     â”‚
    â”‚                        â•‘      ELECTROSHOP          â•‘                     â”‚
    â”‚                        â•‘    E-Commerce System      â•‘                     â”‚
    â”‚                        â•‘                           â•‘                     â”‚
    â”‚                        â•‘  [Software System]        â•‘                     â”‚
    â”‚                        â•‘                           â•‘                     â”‚
    â”‚                        â•‘  Há»‡ thá»‘ng bÃ¡n Ä‘á»“ Ä‘iá»‡n     â•‘                     â”‚
    â”‚                        â•‘  tá»­ trá»±c tuyáº¿n           â•‘                     â”‚
    â”‚                        â•‘                           â•‘                     â”‚
    â”‚                        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                     â”‚
    â”‚                                    â”‚                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                             â”‚                             â”‚
           â–¼                             â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚              â”‚             â”‚              â”‚             â”‚
    â”‚   Payment   â”‚              â”‚    Email    â”‚              â”‚     SMS     â”‚
    â”‚   Gateway   â”‚              â”‚   Service   â”‚              â”‚   Gateway   â”‚
    â”‚             â”‚              â”‚             â”‚              â”‚             â”‚
    â”‚ [External]  â”‚              â”‚ [External]  â”‚              â”‚ [External]  â”‚
    â”‚             â”‚              â”‚             â”‚              â”‚             â”‚
    â”‚ VNPay/Momo  â”‚              â”‚ SMTP Server â”‚              â”‚ Twilio/etc  â”‚
    â”‚             â”‚              â”‚             â”‚              â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MÃ´ táº£ cÃ¡c thÃ nh pháº§n:

| ThÃ nh pháº§n | Loáº¡i | MÃ´ táº£ |
|------------|------|-------|
| **KhÃ¡ch HÃ ng** | Person | NgÆ°á»i dÃ¹ng mua hÃ ng trá»±c tuyáº¿n |
| **Admin** | Person | Quáº£n trá»‹ viÃªn quáº£n lÃ½ há»‡ thá»‘ng |
| **ElectroShop** | Software System | Há»‡ thá»‘ng e-commerce chÃ­nh |
| **Payment Gateway** | External System | Cá»•ng thanh toÃ¡n (VNPay, Momo) |
| **Email Service** | External System | Dá»‹ch vá»¥ gá»­i email |
| **SMS Gateway** | External System | Dá»‹ch vá»¥ gá»­i SMS |

---

## ğŸ”· Level 2: Container Diagram

### SÆ¡ Ä‘á»“ cÃ¡c container - MÃ´ táº£ cÃ¡c á»©ng dá»¥ng/dá»‹ch vá»¥ trong há»‡ thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               CONTAINER DIAGRAM                                      â”‚
â”‚                                  ElectroShop                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   KhÃ¡ch HÃ ng  â”‚                                          â”‚     Admin     â”‚
    â”‚   [Person]    â”‚                                          â”‚   [Person]    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                                          â”‚
            â”‚ HTTPS                                                    â”‚ HTTPS
            â”‚                                                          â”‚
            â–¼                                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ElectroShop System                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                                â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚   â”‚                     WEB APPLICATION                                  â”‚    â”‚  â”‚
â”‚  â”‚   â”‚                    [Container: Laravel]                              â”‚    â”‚  â”‚
â”‚  â”‚   â”‚                      Port: 8000                                      â”‚    â”‚  â”‚
â”‚  â”‚   â”‚                                                                      â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   â”‚    Nginx     â”‚ â”‚   PHP-FPM    â”‚ â”‚    Queue     â”‚ â”‚Supervisorâ”‚  â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   â”‚  Web Server  â”‚ â”‚  App Server  â”‚ â”‚   Worker     â”‚ â”‚ Manager  â”‚  â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â”‚
â”‚  â”‚   â”‚                                                                      â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   Modules:                                                           â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   â€¢ Catalog Module (Sáº£n pháº©m, Danh má»¥c)                             â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   â€¢ Order Module (ÄÆ¡n hÃ ng, Giá» hÃ ng)                               â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   â€¢ User Module (NgÆ°á»i dÃ¹ng, XÃ¡c thá»±c)                              â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   â€¢ Admin Module (Quáº£n trá»‹)                                         â”‚    â”‚  â”‚
â”‚  â”‚   â”‚   â€¢ Notification Module (ThÃ´ng bÃ¡o)                                 â”‚    â”‚  â”‚
â”‚  â”‚   â”‚                                                                      â”‚    â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                â”‚                   â”‚                          â”‚  â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚                    â”‚                                           â”‚              â”‚  â”‚
â”‚  â”‚                    â–¼                                           â–¼              â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚   â”‚                                â”‚      â”‚                                â”‚ â”‚  â”‚
â”‚  â”‚   â”‚        DATABASE                â”‚      â”‚         CACHE/QUEUE            â”‚ â”‚  â”‚
â”‚  â”‚   â”‚    [Container: MySQL 8.0]      â”‚      â”‚    [Container: Redis 7]        â”‚ â”‚  â”‚
â”‚  â”‚   â”‚        Port: 3308              â”‚      â”‚        Port: 6380              â”‚ â”‚  â”‚
â”‚  â”‚   â”‚                                â”‚      â”‚                                â”‚ â”‚  â”‚
â”‚  â”‚   â”‚  LÆ°u trá»¯:                      â”‚      â”‚  Chá»©c nÄƒng:                    â”‚ â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ Users                       â”‚      â”‚  â€¢ Session storage             â”‚ â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ Products                    â”‚      â”‚  â€¢ Query caching               â”‚ â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ Categories                  â”‚      â”‚  â€¢ Job queues                  â”‚ â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ Orders                      â”‚      â”‚  â€¢ Real-time data              â”‚ â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ Transactions                â”‚      â”‚                                â”‚ â”‚  â”‚
â”‚  â”‚   â”‚                                â”‚      â”‚                                â”‚ â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                               â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚   â”‚                                â”‚      â”‚                                â”‚ â”‚  â”‚
â”‚  â”‚   â”‚      DATABASE GUI              â”‚      â”‚        CACHE GUI               â”‚ â”‚  â”‚
â”‚  â”‚   â”‚  [Container: phpMyAdmin]       â”‚      â”‚  [Container: Redis Commander]  â”‚ â”‚  â”‚
â”‚  â”‚   â”‚       Port: 8083               â”‚      â”‚       Port: 8082               â”‚ â”‚  â”‚
â”‚  â”‚   â”‚                                â”‚      â”‚                                â”‚ â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                           â”‚
                    â–¼                                           â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Payment Gateway â”‚                         â”‚  Email Service  â”‚
          â”‚   [External]    â”‚                         â”‚   [External]    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Chi tiáº¿t cÃ¡c Container:

| Container | Technology | Port | MÃ´ táº£ |
|-----------|------------|------|-------|
| **Web Application** | Laravel/PHP | 8000 | á»¨ng dá»¥ng web chÃ­nh |
| **Database** | MySQL 8.0 | 3308 | LÆ°u trá»¯ dá»¯ liá»‡u |
| **Cache/Queue** | Redis 7 | 6380 | Cache vÃ  message queue |
| **phpMyAdmin** | PHP | 8083 | GUI quáº£n lÃ½ MySQL |
| **Redis Commander** | Node.js | 8082 | GUI quáº£n lÃ½ Redis |

---

## ğŸ”· Level 3: Component Diagram

### SÆ¡ Ä‘á»“ cÃ¡c component trong Web Application

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              COMPONENT DIAGRAM                                       â”‚
â”‚                         Web Application (Laravel)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Laravel Application                                     â”‚
â”‚                                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                           PRESENTATION LAYER                                 â”‚   â”‚
â”‚  â”‚                                                                              â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚    Views     â”‚  â”‚  Controllers â”‚  â”‚  Middleware  â”‚  â”‚   Routes     â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   (Blade)    â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚              â”‚  â”‚ â€¢ Home       â”‚  â”‚ â€¢ Auth       â”‚  â”‚ â€¢ web.php    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ home/      â”‚  â”‚ â€¢ Product    â”‚  â”‚ â€¢ CORS       â”‚  â”‚ â€¢ api.php    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ product/   â”‚  â”‚ â€¢ Category   â”‚  â”‚ â€¢ Throttle   â”‚  â”‚ â€¢ admin.php  â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ cart/      â”‚  â”‚ â€¢ Cart       â”‚  â”‚ â€¢ Admin      â”‚  â”‚              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ admin/     â”‚  â”‚ â€¢ Order      â”‚  â”‚              â”‚  â”‚              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚              â”‚  â”‚ â€¢ User       â”‚  â”‚              â”‚  â”‚              â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                            â”‚                                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                               â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                            â–¼                                                â”‚   â”‚
â”‚  â”‚                      BUSINESS LAYER                                         â”‚   â”‚
â”‚  â”‚                                                                              â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚   Services   â”‚  â”‚    Events    â”‚  â”‚   Listeners  â”‚  â”‚     Jobs     â”‚   â”‚   â”‚
â”‚  â”‚   â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ Cart       â”‚  â”‚ â€¢ OrderEvent â”‚  â”‚ â€¢ SendEmail  â”‚  â”‚ â€¢ SendMail   â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ Payment    â”‚  â”‚ â€¢ UserEvent  â”‚  â”‚ â€¢ UpdateStockâ”‚  â”‚ â€¢ ProcessPay â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ Notify     â”‚  â”‚ â€¢ PaymentEvt â”‚  â”‚ â€¢ LogActivityâ”‚  â”‚ â€¢ SyncData   â”‚   â”‚   â”‚
â”‚  â”‚   â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚          â”‚                                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          â–¼                                                                  â”‚   â”‚
â”‚  â”‚                         DATA LAYER                                          â”‚   â”‚
â”‚  â”‚                                                                              â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚    Models    â”‚  â”‚ Repositories â”‚  â”‚   Eloquent   â”‚  â”‚    Cache     â”‚   â”‚   â”‚
â”‚  â”‚   â”‚              â”‚  â”‚  (Optional)  â”‚  â”‚    ORM       â”‚  â”‚   Facade     â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ Product    â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ Category   â”‚  â”‚ â€¢ ProductRepoâ”‚  â”‚ â€¢ HasMany    â”‚  â”‚ â€¢ remember() â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ Order      â”‚  â”‚ â€¢ OrderRepo  â”‚  â”‚ â€¢ BelongsTo  â”‚  â”‚ â€¢ forget()   â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ User       â”‚  â”‚ â€¢ UserRepo   â”‚  â”‚ â€¢ HasOne     â”‚  â”‚ â€¢ put()      â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ Cart       â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ Rating     â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚          â”‚                                                      â”‚          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                                                      â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                                      â”‚
              â–¼                                                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      MySQL      â”‚                                    â”‚      Redis      â”‚
    â”‚    Database     â”‚                                    â”‚      Cache      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Chi tiáº¿t cÃ¡c Component:

#### Presentation Layer
| Component | MÃ´ táº£ |
|-----------|-------|
| **Views (Blade)** | Template hiá»ƒn thá»‹ giao diá»‡n |
| **Controllers** | Xá»­ lÃ½ request, Ä‘iá»u hÆ°á»›ng logic |
| **Middleware** | XÃ¡c thá»±c, phÃ¢n quyá»n, logging |
| **Routes** | Äá»‹nh nghÄ©a URL endpoints |

#### Business Layer
| Component | MÃ´ táº£ |
|-----------|-------|
| **Services** | Business logic phá»©c táº¡p |
| **Events** | Äá»‹nh nghÄ©a cÃ¡c sá»± kiá»‡n |
| **Listeners** | Xá»­ lÃ½ khi event xáº£y ra |
| **Jobs** | Background tasks (queue) |

#### Data Layer
| Component | MÃ´ táº£ |
|-----------|-------|
| **Models** | Äáº¡i diá»‡n báº£ng database |
| **Eloquent ORM** | TÆ°Æ¡ng tÃ¡c vá»›i database |
| **Cache Facade** | TÆ°Æ¡ng tÃ¡c vá»›i Redis |

---

## ğŸ”· Level 4: Code Diagram (Class Diagram)

### SÆ¡ Ä‘á»“ lá»›p cho Module Product

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                CODE DIAGRAM                                          â”‚
â”‚                              Product Module                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ProductController                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - productService: ProductService            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + index(Request): View                      â”‚
â”‚ + show(int $id): View                       â”‚
â”‚ + search(Request): JsonResponse             â”‚
â”‚ + store(Request): RedirectResponse          â”‚
â”‚ + update(Request, int $id): RedirectResponseâ”‚
â”‚ + destroy(int $id): RedirectResponse        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ uses
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ProductService                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - cache: CacheManager                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + getAllProducts(): Collection              â”‚
â”‚ + getProductById(int $id): Product          â”‚
â”‚ + getHotProducts(): Collection              â”‚
â”‚ + searchProducts(string $query): Collection â”‚
â”‚ + createProduct(array $data): Product       â”‚
â”‚ + updateProduct(int $id, array): Product    â”‚
â”‚ + deleteProduct(int $id): bool              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ uses
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Product (Model)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ # table: string = 'products'                â”‚
â”‚ # fillable: array                           â”‚
â”‚ # casts: array                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + id: int                                   â”‚
â”‚ + pro_name: string                          â”‚
â”‚ + pro_slug: string                          â”‚
â”‚ + pro_price: int                            â”‚
â”‚ + pro_sale: int                             â”‚
â”‚ + pro_image: string                         â”‚
â”‚ + pro_description: text                     â”‚
â”‚ + pro_category_id: int                      â”‚
â”‚ + pro_hot: tinyint                          â”‚
â”‚ + pro_active: tinyint                       â”‚
â”‚ + created_at: timestamp                     â”‚
â”‚ + updated_at: timestamp                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + category(): BelongsTo                     â”‚
â”‚ + images(): HasMany                         â”‚
â”‚ + ratings(): HasMany                        â”‚
â”‚ + orderItems(): HasMany                     â”‚
â”‚ + scopeActive(Builder): Builder             â”‚
â”‚ + scopeHot(Builder): Builder                â”‚
â”‚ + getDiscountedPrice(): int                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ belongsTo
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Category (Model)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ # table: string = 'category'                â”‚
â”‚ # fillable: array                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + id: int                                   â”‚
â”‚ + c_name: string                            â”‚
â”‚ + c_slug: string                            â”‚
â”‚ + c_status: tinyint                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + products(): HasMany                       â”‚
â”‚ + scopeActive(Builder): Builder             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Rating (Model)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + id: int                                   â”‚
â”‚ + r_product_id: int                         â”‚
â”‚ + r_user_id: int                            â”‚
â”‚ + r_number: int                             â”‚
â”‚ + r_content: text                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + product(): BelongsTo                      â”‚
â”‚ + user(): BelongsTo                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Class Diagram cho Order Module

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                CODE DIAGRAM                                          â”‚
â”‚                                Order Module                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        OrderController          â”‚      â”‚          CartController          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + checkout(): View              â”‚      â”‚ + index(): View                  â”‚
â”‚ + store(Request): Redirect      â”‚      â”‚ + add(Request): JsonResponse     â”‚
â”‚ + show(int $id): View           â”‚      â”‚ + update(Request): JsonResponse  â”‚
â”‚ + history(): View               â”‚      â”‚ + remove(int $id): JsonResponse  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                                         â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ uses
                                    â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚           Order (Model)         â”‚
                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                 â”‚ + id: int                       â”‚
                 â”‚ + o_user_id: int                â”‚
                 â”‚ + o_total: int                  â”‚
                 â”‚ + o_status: tinyint             â”‚
                 â”‚ + o_address: string             â”‚
                 â”‚ + o_phone: string               â”‚
                 â”‚ + o_note: text                  â”‚
                 â”‚ + created_at: timestamp         â”‚
                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                 â”‚ + user(): BelongsTo             â”‚
                 â”‚ + items(): HasMany              â”‚
                 â”‚ + transaction(): HasOne         â”‚
                 â”‚ + scopePending(): Builder       â”‚
                 â”‚ + scopeCompleted(): Builder     â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚ hasMany
                                  â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚        OrderItem (Model)        â”‚
                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                 â”‚ + id: int                       â”‚
                 â”‚ + oi_order_id: int              â”‚
                 â”‚ + oi_product_id: int            â”‚
                 â”‚ + oi_qty: int                   â”‚
                 â”‚ + oi_price: int                 â”‚
                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                 â”‚ + order(): BelongsTo            â”‚
                 â”‚ + product(): BelongsTo          â”‚
                 â”‚ + getSubtotal(): int            â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”· PlantUML Source Code

### System Context (PlantUML)

```plantuml
@startuml C4_Context
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

title System Context Diagram - ElectroShop

Person(customer, "KhÃ¡ch HÃ ng", "NgÆ°á»i mua hÃ ng trá»±c tuyáº¿n")
Person(admin, "Admin", "Quáº£n trá»‹ viÃªn há»‡ thá»‘ng")

System(electroshop, "ElectroShop", "Há»‡ thá»‘ng bÃ¡n Ä‘á»“ Ä‘iá»‡n tá»­ trá»±c tuyáº¿n")

System_Ext(payment, "Payment Gateway", "VNPay, Momo, ZaloPay")
System_Ext(email, "Email Service", "SMTP Server")
System_Ext(sms, "SMS Gateway", "Twilio, Nexmo")

Rel(customer, electroshop, "Xem sáº£n pháº©m, Äáº·t hÃ ng", "HTTPS")
Rel(admin, electroshop, "Quáº£n lÃ½ há»‡ thá»‘ng", "HTTPS")
Rel(electroshop, payment, "Xá»­ lÃ½ thanh toÃ¡n", "HTTPS/API")
Rel(electroshop, email, "Gá»­i email", "SMTP")
Rel(electroshop, sms, "Gá»­i SMS", "API")

@enduml
```

### Container Diagram (PlantUML)

```plantuml
@startuml C4_Container
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

title Container Diagram - ElectroShop

Person(customer, "KhÃ¡ch HÃ ng", "NgÆ°á»i mua hÃ ng")
Person(admin, "Admin", "Quáº£n trá»‹ viÃªn")

System_Boundary(electroshop, "ElectroShop System") {
    Container(webapp, "Web Application", "Laravel/PHP", "Xá»­ lÃ½ business logic, render views")
    Container(nginx, "Web Server", "Nginx", "Reverse proxy, static files")
    ContainerDb(mysql, "Database", "MySQL 8.0", "LÆ°u trá»¯ dá»¯ liá»‡u")
    ContainerDb(redis, "Cache/Queue", "Redis 7", "Cache, session, queue")
    Container(phpmyadmin, "DB Admin", "phpMyAdmin", "Quáº£n lÃ½ MySQL")
    Container(rediscmd, "Cache Admin", "Redis Commander", "Quáº£n lÃ½ Redis")
}

System_Ext(payment, "Payment Gateway", "VNPay/Momo")
System_Ext(email, "Email Service", "SMTP")

Rel(customer, nginx, "HTTPS", "443")
Rel(admin, nginx, "HTTPS", "443")
Rel(nginx, webapp, "FastCGI", "9000")
Rel(webapp, mysql, "TCP/SQL", "3306")
Rel(webapp, redis, "TCP", "6379")
Rel(webapp, payment, "HTTPS/API")
Rel(webapp, email, "SMTP", "587")
Rel(admin, phpmyadmin, "HTTP", "8083")
Rel(admin, rediscmd, "HTTP", "8082")
Rel(phpmyadmin, mysql, "SQL")
Rel(rediscmd, redis, "Redis Protocol")

@enduml
```

---

## ğŸ“Š Tá»•ng Káº¿t

### Mapping C4 vá»›i Docker Containers

| C4 Level | Element | Docker Container |
|----------|---------|------------------|
| Level 2 | Web Application | electroshop_app |
| Level 2 | Database | electroshop_mysql |
| Level 2 | Cache/Queue | electroshop_redis |
| Level 2 | DB Admin | electroshop_phpmyadmin |
| Level 2 | Cache Admin | electroshop_redis_commander |

### CÃ´ng nghá»‡ sá»­ dá»¥ng

| Layer | Technology |
|-------|------------|
| Frontend | Blade Template, Bootstrap, jQuery |
| Backend | Laravel 10, PHP 8.2 |
| Database | MySQL 8.0 |
| Cache | Redis 7 |
| Web Server | Nginx |
| Container | Docker, Docker Compose |

---

*TÃ i liá»‡u C4 Model - ElectroShop E-Commerce System*
